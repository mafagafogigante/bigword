---
dist: focal
language: cpp

compiler:
  - clang
  - gcc

addons:
  apt:
    update: true
    packages:
      - build-essential
      - cmake
      - libtbb-dev  # parallelism library for C++ - development files
      - libtbb2  # parallelism library for C++ - runtime files

jobs:
  include:
    - name: "GCC - Debug"
      language: cpp
      compiler: gcc
      script:
        - mkdir build && cd build || exit
        - cmake -DCMAKE_BUILD_TYPE=Debug ..
        - cmake --build .
    - name: "Clang - Debug"
      language: cpp
      compiler: clang
      script:
        - mkdir build && cd build || exit
        - cmake -DCMAKE_BUILD_TYPE=Debug ..
        - cmake --build .

notifications:
  email:
    on_success: always
    on_failure: always
